version: "3"
services:
  platform-builder:
    image: node:20
    working_dir: /app
    volumes:
      - ./engines/platform-builder:/app
    command: npm run dev
    ports:
      - "4001:4001"
  execution:
    image: node:20
    working_dir: /app
    volumes:
      - ./engines/execution:/app
    command: npm run dev
    ports:
      - "4002:4002"
  vault:
    image: node:20
    working_dir: /app
    volumes:
      - ./engines/vault:/app
    command: npm run dev
    ports:
      - "4003:4003"
  validation:
    image: node:20
    working_dir: /app
    volumes:
      - ./engines/validation:/app
    command: npm run dev
    ports:
      - "4004:4004"
  logs:
    image: node:20
    working_dir: /app
    volumes:
      - ./engines/logs:/app
    command: npm run dev
    ports:
      - "4005:4005"
  gateway:
    image: node:20
    working_dir: /app
    volumes:
      - ./gateway:/app
    command: npm run dev
    ports:
      - "4000:4000"
    depends_on:
      - platform-builder
      - execution
      - vault
      - validation
      - logs
